(function(e){function a(a){for(var r,l,c=a[0],i=a[1],s=a[2],u=0,k=[];u<c.length;u++)l=c[u],Object.prototype.hasOwnProperty.call(t,l)&&t[l]&&k.push(t[l][0]),t[l]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(a);while(k.length)k.shift()();return n.push.apply(n,s||[]),o()}function o(){for(var e,a=0;a<n.length;a++){for(var o=n[a],r=!0,c=1;c<o.length;c++){var i=o[c];0!==t[i]&&(r=!1)}r&&(n.splice(a--,1),e=l(l.s=o[0]))}return e}var r={},t={app:0},n=[];function l(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=r,l.d=function(e,a,o){l.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,a){if(1&a&&(e=l(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)l.d(o,r,function(a){return e[a]}.bind(null,r));return o},l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,"a",a),a},l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},l.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=a,c=c.slice();for(var s=0;s<c.length;s++)a(c[s]);var d=i;n.push([0,"chunk-vendors"]),o()})({0:function(e,a,o){e.exports=o("56d7")},"2ee8":function(e,a,o){},"35de":function(e){e.exports=JSON.parse('[{"id":"1","name":"GRASS","color":[127,178,56],"blocks":["Grass Block","Slime Block"]},{"id":"2","name":"SAND","color":[247,233,163],"blocks":["Sand","Birch Planks","Birch Log","Stripped Birch Log","Birch Wood","Stripped Birch Wood","Birch Sign","Birch Pressure Plate","Birch Trapdoor","Birch Stairs","Birch Slab","Birch Fence Gate","Birch Fence","Birch Door","Sandstone","Glowstone","End Stone","End Stone Bricks","Bone Block","Turtle Egg","Scaffolding"]},{"id":"3","name":"WOOL","color":[199,199,199],"blocks":["Cobweb","Mushroom Stem","Beds"]},{"id":"4","name":"FIRE","color":[255,0,0],"blocks":["Lava","TNT","Fire","Redstone Block"]},{"id":"5","name":"ICE","color":[160,160,255],"blocks":["Ice","Frosted Ice","Packed Ice","Blue Ice"]},{"id":"6","name":"METAL","color":[167,167,167],"blocks":["Block of Iron","Iron Door","Brewing Stand","Heavy Weighted Pressure Plate","Iron Trapdoor","Lantern","Anvil","Grindstone"]},{"id":"7","name":"PLANT","color":[0,124,0],"blocks":["Saplings","Flowers","Mushrooms","Wheat","Sugar Cane","Pumpkin Stem","Melon Stem","Lily Pad","Cocoa","Carrots","Potatoes","Beetroots","Sweet Berry Bush","Grass","Fern","Vines","Leaves","Cactus","Bamboo"]},{"id":"8","name":"SNOW","color":[255,255,255],"blocks":["Snow","Snow Block","White Bed","White Wool","White Stained Glass","White Stained Glass Pane","White Carpet","White Banner","White Shulker Box","White Glazed Terracotta","White Concrete","White Concrete Powder"]},{"id":"9","name":"CLAY","color":[164,168,184],"blocks":["Clay","Infested Blocks"]},{"id":"10","name":"DIRT","color":[151,109,77],"blocks":["Dirt","Coarse Dirt","Farmland","Grass Path","Granite","Polished Granite","Jungle Planks","Jungle Log","Stripped Jungle Log","Jungle Wood","Stripped Jungle Wood","Jungle Sign","Jungle Pressure Plate","Jungle Trapdoor","Jungle Stairs","Jungle Slab","Jungle Fence Gate","Jungle Fence","Jungle Door","Jukebox","Brown Mushroom Block"]},{"id":"11","name":"STONE","color":[112,112,112],"blocks":["Stone Slab","Stone Stairs","Andesite","Polished Andesite","Cobblestone","Bedrock","Gold Ore","Iron Ore","Coal Ore","Lapis Lazuli Ore","Dispenser","Mossy Cobblestone","Spawner","Diamond Ore","Furnace","Stone Pressure Plate","Redstone Ore","Stone Bricks","Emerald Ore","Ender Chest","Dropper","Smooth Stone","Observer","Smoker","Blast Furnace","Stonecutter","Sticky Piston","Piston","Piston Head","Gravel","Acacia Log","Cauldron","Hopper"]},{"id":"12","name":"WATER","color":[64,64,255],"blocks":["Kelp","Seagrass","Water","Bubble Column"]},{"id":"13","name":"WOOD","color":[143,119,72],"blocks":["Oak Planks","Oak Log","Stripped Oak Log","Oak Wood","Stripped Oak Wood","Oak Sign","Oak Door","Oak Pressure Plate","Oak Fence","Oak Trapdoor","Oak Fence Gate","Oak Slab","Oak Stairs","Note Block","Bookshelf","Chest","Crafting Table","Trapped Chest","Daylight Detector","Loom","Barrel","Cartography Table","Fletching Table","Lectern","Smithing Table","Composter","Bamboo Sapling","Dead Bush","Petrified Oak Slab","Beehive","Bee Nest"]},{"id":"14","name":"QUARTZ","color":[255,252,245],"blocks":["Diorite","Polished Diorite","Birch Log","Quartz Block","Sea Lantern"]},{"id":"15","name":"COLOR_ORANGE","color":[216,127,51],"blocks":["Acacia Planks","Acacia Log","Stripped Acacia Log","Stripped Acacia Wood","Acacia Sign","Acacia Trapdoor","Acacia Slab","Red Sand","Orange Wool","Orange Carpet","Orange Shulker Box","Orange Bed","Orange Stained Glass","Orange Stained Glass Pane","Orange Banner","Orange Glazed Terracotta","Orange Concrete","Orange Concrete Powder","Pumpkin","Carved Pumpkin","Jack o\'Lantern","Terracotta","Red Sandstone","Honey Block","Honeycomb Block"]},{"id":"16","name":"COLOR_MAGENTA","color":[178,76,216],"blocks":["Magenta Wool","Magenta Carpet","Magenta Shulker Box","Magenta Bed","Magenta Stained Glass","Magenta Stained Glass Pane","Magenta Banner","Magenta Glazed Terracotta","Magenta Concrete","Magenta Concrete Powder","Purpur Block"]},{"id":"17","name":"COLOR_LIGHT_BLUE","color":[102,153,216],"blocks":["Light Blue Wool","Light Blue Carpet","Light Blue Shulker Box","Light Blue Bed","Light Blue Stained Glass","Light Blue Stained Glass Pane","Light Blue Banner","Light Blue Glazed Terracotta","Light Blue Concrete","Light Blue Concrete Powder"]},{"id":"18","name":"COLOR_YELLOW","color":[229,229,51],"blocks":["Sponge","Wet Sponge","Yellow Wool","Yellow Carpet","Yellow Shulker Box","Yellow Bed","Yellow Stained Glass","Yellow Stained Glass Pane","Yellow Banner","Yellow Glazed Terracotta","Yellow Concrete","Yellow Concrete Powder","Hay Bale","Horn Coral Block","Horn Coral","Horn Coral Fan"]},{"id":"19","name":"COLOR_LIGHT_GREEN","color":[127,204,25],"blocks":["Lime Wool","Lime Carpet","Lime Shulker Box","Lime Bed","Lime Stained Glass","Lime Stained Glass Pane","Lime Banner","Lime Glazed Terracotta","Lime Concrete","Lime Concrete Powder","Melon"]},{"id":"20","name":"COLOR_PINK","color":[242,127,165],"blocks":["Pink Wool","Pink Carpet","Pink Shulker Box","Pink Bed","Pink Stained Glass","Pink Stained Glass Pane","Pink Banner","Pink Glazed Terracotta","Pink Concrete","Pink Concrete Powder","Brain Coral Block","Brain Coral","Brain Coral Fan"]},{"id":"21","name":"COLOR_GRAY","color":[76,76,76],"blocks":["Acacia Wood","Gray Wool","Gray Carpet","Gray Shulker Box","Gray Bed","Gray Stained Glass","Gray Stained Glass Pane","Gray Banner","Gray Glazed Terracotta","Gray Concrete","Gray Concrete Powder","Dead Coral Blocks","Dead Coral","Dead Coral Fans"]},{"id":"22","name":"COLOR_LIGHT_GRAY","color":[153,153,153],"blocks":["Light Gray Wool","Light Gray Carpet","Light Gray Shulker Box","Light Gray Bed","Light Gray Stained Glass","Light Gray Stained Glass Pane","Light Gray Banner","Light Gray Glazed Terracotta","Light Gray Concrete","Light Gray Concrete Powder","Structure Block","Jigsaw Block"]},{"id":"23","name":"COLOR_CYAN","color":[76,127,153],"blocks":["Cyan Wool","Cyan Carpet","Cyan Shulker Box","Cyan Bed","Cyan Stained Glass","Cyan Stained Glass Pane","Cyan Banner","Cyan Glazed Terracotta","Cyan Concrete","Cyan Concrete Powder","Prismarine"]},{"id":"24","name":"COLOR_PURPLE","color":[127,63,178],"blocks":["Shulker Box","Purple Wool","Purple Carpet","Purple Bed","Purple Stained Glass","Purple Stained Glass Pane","Purple Banner","Purple Glazed Terracotta","Purple Concrete","Purple Concrete Powder","Mycelium","Chorus Plant","Chorus Flower","Repeating Command Block","Bubble Coral Block","Bubble Coral","Bubble Coral Fan"]},{"id":"25","name":"COLOR_BLUE","color":[51,76,178],"blocks":["Blue Wool","Blue Carpet","Blue Shulker Box","Blue Bed","Blue Stained Glass","Blue Stained Glass Pane","Blue Banner","Blue Glazed Terracotta","Blue Concrete","Blue Concrete Powder","Tube Coral Block","Tube Coral","Tube Coral Fan"]},{"id":"26","name":"COLOR_BROWN","color":[102,76,51],"blocks":["Dark Oak Planks","Dark Oak Log","Stripped Dark Oak Log","Dark Oak Wood","Stripped Dark Oak Wood","Dark Oak Sign","Dark Oak Pressure Plate","Dark Oak Trapdoor","Dark Oak Stairs","Dark Oak Slab","Dark Oak Fence Gate","Dark Oak Fence","Dark Oak Door","Spruce Log","Brown Wool","Brown Carpet","Brown Shulker Box","Brown Bed","Brown Stained Glass","Brown Stained Glass Pane","Brown Banner","Brown Glazed Terracotta","Brown Concrete","Brown Concrete Powder","Soul Sand","Command Block"]},{"id":"27","name":"COLOR_GREEN","color":[102,127,51],"blocks":["Green Wool","Green Carpet","Green Shulker Box","Green Bed","Green Stained Glass","Green Stained Glass Pane","Green Banner","Green Glazed Terracotta","Green Concrete","Green Concrete Powder","End Portal Frame","Chain Command Block","Dried Kelp Block","Sea Pickle"]},{"id":"28","name":"COLOR_RED","color":[153,51,51],"blocks":["Red Wool","Red Carpet","Red Shulker Box","Red Bed","Red Stained Glass","Red Stained Glass Pane","Red Banner","Red Glazed Terracotta","Red Concrete","Red Concrete Powder","Bricks","Red Mushroom Block","Nether Wart","Enchanting Table","Nether Wart Block","Fire Coral Block","Fire Coral","Fire Coral Fan"]},{"id":"29","name":"COLOR_BLACK","color":[25,25,25],"blocks":["Black Wool","Black Carpet","Black Shulker Box","Black Bed","Black Stained Glass","Black Stained Glass Pane","Black Banner","Black Glazed Terracotta","Black Concrete","Black Concrete Powder","Obsidian","End Portal","Dragon Egg","Block of Coal","End Gateway"]},{"id":"30","name":"GOLD","color":[250,238,77],"blocks":["Block of Gold","Light Weighted Pressure Plate","Bell"]},{"id":"31","name":"DIAMOND","color":[92,219,213],"blocks":["Block of Diamond","Beacon","Prismarine Bricks","Dark Prismarine","Conduit"]},{"id":"32","name":"LAPIS","color":[74,128,255],"blocks":["Lapis Lazuli Block"]},{"id":"33","name":"EMERALD","color":[0,217,58],"blocks":["Block of Emerald"]},{"id":"34","name":"PODZOL","color":[129,86,49],"blocks":["Podzol","Spruce Planks","Spruce Log","Stripped Spruce Log","Spruce Wood","Stripped Spruce Wood","Spruce Sign","Spruce Pressure Plate","Spruce Trapdoor","Spruce Stairs","Spruce Slab","Spruce Fence Gate","Spruce Fence","Spruce Door","Oak Log","Jungle Log","Campfire"]},{"id":"35","name":"NETHER","color":[112,2,0],"blocks":["Netherrack","Nether Bricks","Nether Quartz Ore","Magma Block","Red Nether Bricks"]},{"id":"36","name":"TERRACOTTA_WHITE","color":[209,177,161],"blocks":["White Terracotta"]},{"id":"37","name":"TERRACOTTA_ORANGE","color":[159,82,36],"blocks":["Orange Terracotta"]},{"id":"38","name":"TERRACOTTA_MAGENTA","color":[149,87,108],"blocks":["Magenta Terracotta"]},{"id":"39","name":"TERRACOTTA_LIGHT_BLUE","color":[112,108,138],"blocks":["Light Blue Terracotta"]},{"id":"40","name":"TERRACOTTA_YELLOW","color":[186,133,36],"blocks":["Yellow Terracotta"]},{"id":"41","name":"TERRACOTTA_LIGHT_GREEN","color":[103,117,53],"blocks":["Lime Terracotta"]},{"id":"42","name":"TERRACOTTA_PINK","color":[160,77,78],"blocks":["Pink Terracotta"]},{"id":"43","name":"TERRACOTTA_GRAY","color":[57,41,35],"blocks":["Gray Terracotta"]},{"id":"44","name":"TERRACOTTA_LIGHT_GRAY","color":[135,107,98],"blocks":["Light Gray Terracotta"]},{"id":"45","name":"TERRACOTTA_CYAN","color":[87,92,92],"blocks":["Cyan Terracotta"]},{"id":"46","name":"TERRACOTTA_PURPLE","color":[122,73,88],"blocks":["Purple Terracotta","Purple Shulker Box"]},{"id":"47","name":"TERRACOTTA_BLUE","color":[76,62,92],"blocks":["Blue Terracotta"]},{"id":"48","name":"TERRACOTTA_BROWN","color":[76,50,35],"blocks":["Brown Terracotta"]},{"id":"49","name":"TERRACOTTA_GREEN","color":[76,82,42],"blocks":["Green Terracotta"]},{"id":"50","name":"TERRACOTTA_RED","color":[142,60,46],"blocks":["Red Terracotta"]},{"id":"51","name":"TERRACOTTA_BLACK","color":[37,22,16],"blocks":["Black Terracotta"]}]')},"56d7":function(e,a,o){"use strict";o.r(a);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),t=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",{attrs:{id:"app"}},[o("MapCanvas")],1)},n=[],l=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[o("div",[o("input",{attrs:{type:"file",accept:"image/*"},on:{change:e.onSelectedFile}}),o("button",{on:{click:e.download}},[e._v("Download")])]),o("div",{staticClass:"main"},[o("canvas",{attrs:{width:"512",height:"512"}}),e.finished?o("div",{staticClass:"total"},e._l(e.needs,(function(a,r){return o("p",{key:r},[o("span",[e._v(e._s(e.blockType[a.cid])+": ")]),o("span",[e._v(e._s(a.count))])])})),0):e._e()]),o("div",[o("label",{attrs:{for:"column"}},[e._v("Column")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.columnStr,expression:"columnStr"}],attrs:{type:"text",name:"column"},domProps:{value:e.columnStr},on:{input:function(a){a.target.composing||(e.columnStr=a.target.value)}}})]),o("div",[o("label",{attrs:{for:"level"}},[e._v("Basic Level")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],attrs:{type:"text",name:"level"},domProps:{value:e.level},on:{input:function(a){a.target.composing||(e.level=a.target.value)}}})]),e.finished?o("div",{staticClass:"total"},e._l(e.total[e.column],(function(a,r){return o("p",{key:r},[o("span",[e._v(e._s(e.blockType[a.cid])+": ")]),o("span",[e._v(e._s(a.count))])])})),0):e._e(),e.finished?o("div",{staticClass:"column"},[o("div",e._l(e.output[e.column],(function(a,r){return o("div",{key:r,staticClass:"block",style:{background:a.color,"margin-bottom":20*a.height+"px"}},[o("span",[e._v(e._s(a.height+ +e.level))]),o("span",[e._v(e._s(e.blockType[a.cid]))])])})),0)]):e._e()])},c=[],i=(o("c740"),o("4160"),o("c975"),o("a15b"),o("d81d"),o("13d5"),o("4ec9"),o("a9e3"),o("d3b7"),o("3ca3"),o("159b"),o("ddb0"),o("3835")),s=o("b85c"),d=o("35de"),u=[.71,.86,1],k=function(e,a){for(var o=[0,0,0],r=0;r<3;r++)o[0]+=Math.pow(e[r]-a[r]*u[0],2),o[1]+=Math.pow(e[r]-a[r]*u[1],2),o[2]+=Math.pow(e[r]-a[r]*u[2],2);var t=Math.min.apply(Math,o),n=o.findIndex((function(e){return e===t}));return[n,t]},p=["透明","草方块","末地石","蘑菇柄","红石块","冰","铁","树叶","白色","粘土块","从林木","圆石","水","橡木","石英","橙色","品红","淡蓝","黄色","绿色","粉色","灰色","淡灰","青色","紫色","蓝色","棕色","绿色","红色","黑色","金","海晶石","青金石","绿宝石","云杉木","下界岩","白瓦","橙瓦","品红瓦","淡蓝瓦","黄瓦","黄绿瓦","粉红瓦","灰瓦","淡灰瓦","青瓦","紫瓦","蓝瓦","棕瓦","绿瓦","红瓦","黑瓦"],h={name:"MapCanvas",data:function(){for(var e=[],a=[],o=0;o<128;o++){e[o]=[],a[o]=[];for(var r=0;r<128;r++)e[o][r]={cid:0,color:"",weight:0,height:0}}return{finished:!1,path:"",level:"0",columnStr:"0",column:0,rowOffset:0,ctx:null,output:e,blockType:p,total:a,needs:[]}},watch:{columnStr:function(e){var a=Number(e);isNaN(a)||(this.column=Math.round(a))}},mounted:function(){var e=this.$el.querySelector(".main canvas");e instanceof HTMLCanvasElement&&(this.ctx=e.getContext("2d"),document.addEventListener("paste",this.onPaste))},beforeDestroy:function(){document.removeEventListener("paste",this.onPaste)},methods:{onPaste:function(e){var a=this,o=e.clipboardData&&e.clipboardData.items;if(o&&o.length)for(var r=0;r<o.length;r++)if(-1!==o[r].type.indexOf("image")){var t=function(){var e=o[r].getAsFile();a.path="";var t=new FileReader;return t.readAsDataURL(e),t.onload=function(){a.loadImg(t.result)},"break"}();if("break"===t)break}},onSelectedFile:function(e){var a=this,o=e.target.files[0];if(o){this.path="";var r=new FileReader;r.readAsDataURL(o),r.onload=function(){a.loadImg(r.result)}}},onInputPath:function(){this.loadImg(this.path)},loadImg:function(e){var a=this,o=document.createElement("canvas");o.width=128,o.height=128;var r=o.getContext("2d"),t=document.createElement("img");t.src=e,t.onload=function(){var e=Math.min(t.width,t.height),o=(t.width-e)/2,n=(t.height-e)/2;r.drawImage(t,o,n,e,e,0,0,128,128);for(var l=r.getImageData(0,0,128,128).data,c=0;c<l.length;c+=4){var p,h=l[c],B=l[c+1],g=l[c+2],m=1/0,S=0,C=[],b=0,f=Object(s["a"])(d);try{var O=function(){var e=p.value,a=k([h,B,g],e.color),o=Object(i["a"])(a,2),r=o[0],t=o[1];t<m&&(m=t,S=e.id,C=e.color.map((function(e){return e*u[r]})),b=r)};for(f.s();!(p=f.n()).done;)O()}catch(G){f.e(G)}finally{f.f()}var T=c/4%128,P=Math.floor(c/4/128);a.output[T][P].cid=S,a.output[T][P].weight=b,a.output[T][P].color="rgb(".concat(C.join(","),")"),a.ctx.fillStyle="rgb(".concat(C.join(","),")"),a.ctx.fillRect(4*T,4*P,4,4)}a.updateResult(),a.finished=!0}},updateResult:function(){var e=this,a=new Map;this.output.forEach((function(o,r){var t=new Map;o.reduce((function(e,r,n){if(t.set(r.cid,(t.get(r.cid)||0)+1),a.set(r.cid,(a.get(r.cid)||0)+1),0===r.weight?r.height=Math.min(0,e-1):2===r.weight?r.height=e+1:r.height=e,r.height<0)for(var l=-r.height,c=n;c>=0;c--){var i=o[c].height;if(o[c].height=i+l,c>0){var s=o[c-1].height;if(i>s||i+l<s)break}}return r.height}),0);var n=[];t.forEach((function(e,a){n.push({cid:a,count:e})})),e.total[r]=n.sort((function(e,a){return a.count-e.count}))}));var o=[];a.forEach((function(e,a){o.push({cid:a,count:e})})),this.needs=o.sort((function(e,a){return a.count-e.count}))},download:function(){window.OUT_PUT=JSON.stringify(this.output)}}},B=h,g=(o("be96"),o("2877")),m=Object(g["a"])(B,l,c,!1,null,"ddff08be",null),S=m.exports,C={name:"App",components:{MapCanvas:S}},b=C,f=(o("7faf"),Object(g["a"])(b,t,n,!1,null,null,null)),O=f.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(O)}}).$mount("#app")},"7faf":function(e,a,o){"use strict";o("b8ff")},b8ff:function(e,a,o){},be96:function(e,a,o){"use strict";o("2ee8")}});
//# sourceMappingURL=app.e39ccb5e.js.map